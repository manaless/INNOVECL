{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manal\\\\Pictures\\\\innovecl\\\\innovecl\\\\src\\\\Components\\\\TableCriteres.jsx\";\nimport React, { Component } from \"react\";\nimport { Table, Button, Popover } from \"element-react\";\nimport axios from \"axios\";\nimport { i18n } from \"element-react\";\nimport locale from \"element-react/src/locale/lang/en\";\nimport \"element-theme-default\";\nimport \"./Table.css\";\nimport Ajout_critere from \"./Ajout_critere\";\nimport Modifier_critere from \"./Modifier_critere\";\nimport Supprimer_critere from \"./Supprimer_critere\";\nimport { addCriteria } from \"../actions/criteriaActions\";\nimport { addIdeas } from \"../actions/ideaAction\";\nimport { endStep } from \"../actions/stepActions\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ni18n.use(locale);\nexport class TablesCriteres extends Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n    this.state = {\n      columns: [{\n        type: \"selection\"\n      }, {\n        type: \"expand\",\n        expandPannel: function (data) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"ol\", {\n              children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [\"Id du crit\\xE8re: \", data.id_criteres]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 32,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [\"Crit\\xE8re: \", data.enonce_critere]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 29\n          }, this);\n        }\n      }, {\n        label: \" Id \",\n        prop: \"id_criteres\",\n        width: 60\n      }, {\n        label: \" Critère \",\n        prop: \"enonce_critere\",\n        width: 200\n      }, {\n        label: \"Operations\",\n        width: \"200\",\n        render: function (data) {\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(Popover, {\n              placement: \"right\",\n              title: \"Modifier un crit\\xE8re\",\n              width: \"400\",\n              trigger: \"click\",\n              content: /*#__PURE__*/_jsxDEV(Modifier_critere, {\n                critere: data\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 41\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                plain: true,\n                type: \"info\",\n                size: \"small\",\n                style: {\n                  marginRight: \"10px\"\n                },\n                children: \"Modifier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Popover, {\n              placement: \"right\",\n              title: \"Supprimer un crit\\xE8re\",\n              width: \"400\",\n              trigger: \"click\",\n              content: /*#__PURE__*/_jsxDEV(Supprimer_critere, {\n                critere: data\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 41\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"danger\",\n                size: \"small\",\n                children: \"Supprimer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this);\n        }\n      }],\n      data: [],\n      rowClicked: [],\n      idRow: \"\"\n    };\n    this.getdata = props.getdata;\n  }\n\n  componentDidMount() {\n    window.onload = function () {\n      if (!window.location.hash) {\n        window.location = window.location + \"#loaded\";\n        window.location.reload();\n      }\n    };\n\n    window.onload();\n    axios.get(\"http://localhost/innov_ecl/GetCritere.php\").then(res => {\n      this.setState({\n        data: res.data\n      });\n      const fd = new FormData();\n      fd.append(\"id\", this.props.seance.id_seance);\n      axios.post(\"http://localhost/innov_ecl/GetIdea.php\", fd).then(res => {\n        this.props.addIdeas(res.data);\n\n        if (this.props.notes[0].length !== 0) {\n          this.props.endStep();\n        }\n      });\n    });\n  }\n\n  getdata() {\n    axios.get(\"http://localhost/innov_ecl/GetCritere.php\").then(res => {\n      this.setState({\n        data: res.data\n      });\n    });\n  }\n\n  onRowClick(row) {\n    this.setState({\n      rowClicked: row\n    }, function () {\n      console.log(this.state.rowClicked);\n    });\n  }\n\n  refreshPage() {\n    window.location.reload(false);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: `Choisissez les critères de notation de cette phase (Phase ${Math.abs(this.props.step - 3) + 1})`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ContainerTable\",\n          children: [/*#__PURE__*/_jsxDEV(Table, {\n            style: {\n              width: \"100%\"\n            },\n            columns: this.state.columns,\n            data: this.state.data,\n            border: true,\n            emptyText: \"Pas de crit\\xE8res\",\n            onSelectChange: selection => {\n              this.props.addCriteria({\n                step: Math.abs(this.props.step - 3),\n                criteria: selection\n              });\n            },\n            onSelectAll: selection => {\n              this.props.addCriteria({\n                step: Math.abs(this.props.step - 3),\n                criteria: selection\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Popover, {\n          placement: \"bottom\",\n          title: \"Ajouter un crit\\xE8re\",\n          width: \"400\",\n          trigger: \"click\",\n          content: /*#__PURE__*/_jsxDEV(Ajout_critere, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 34\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"createBtn\",\n            plain: true,\n            type: \"danger\",\n            style: {\n              marginTop: \"40px\"\n            },\n            children: \"Ajouter un crit\\xE8re\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer\",\n        children: /*#__PURE__*/_jsxDEV(Button.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"danger\",\n            plain: true,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"el-icon-arrow-left el-icon-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              style: {\n                textDecoration: \"none\"\n              },\n              href: \"/TableIdees\",\n              children: \"Etape pr\\xE9c\\xE9dente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"danger\",\n            plain: true,\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              style: {\n                textDecoration: \"none\"\n              },\n              href: \"/Notation\",\n              onClick: e => {\n                if (this.props.selectedCriteria.length > 3) {\n                  e.preventDefault();\n                  alert(\"Le maximum nombre de critères est 3.\");\n                } else if (this.props.selectedCriteria.length === 0) {\n                  e.preventDefault();\n                  alert(\"Choisir au moins un critère.\");\n                }\n              },\n              children: \"Etape Suivante\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"el-icon-arrow-right el-icon-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  selectedCriteria: state.criteria.selectedCriteria[Math.abs(state.steps - 3)],\n  seance: state.seance.seance,\n  step: state.steps,\n  notes: state.notes,\n  ideas: state.ideas\n});\n\nexport default connect(mapStateToProps, {\n  addCriteria,\n  addIdeas,\n  endStep\n})(TablesCriteres);","map":{"version":3,"sources":["C:/Users/manal/Pictures/innovecl/innovecl/src/Components/TableCriteres.jsx"],"names":["React","Component","Table","Button","Popover","axios","i18n","locale","Ajout_critere","Modifier_critere","Supprimer_critere","addCriteria","addIdeas","endStep","connect","use","TablesCriteres","constructor","props","_isMounted","state","columns","type","expandPannel","data","id_criteres","enonce_critere","label","prop","width","render","marginRight","rowClicked","idRow","getdata","componentDidMount","window","onload","location","hash","reload","get","then","res","setState","fd","FormData","append","seance","id_seance","post","notes","length","onRowClick","row","console","log","refreshPage","Math","abs","step","selection","criteria","marginTop","textDecoration","e","selectedCriteria","preventDefault","alert","mapStateToProps","steps","ideas"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Table, Button, Popover } from \"element-react\";\r\nimport axios from \"axios\";\r\nimport { i18n } from \"element-react\";\r\nimport locale from \"element-react/src/locale/lang/en\";\r\nimport \"element-theme-default\";\r\nimport \"./Table.css\";\r\nimport Ajout_critere from \"./Ajout_critere\";\r\nimport Modifier_critere from \"./Modifier_critere\";\r\nimport Supprimer_critere from \"./Supprimer_critere\";\r\nimport { addCriteria } from \"../actions/criteriaActions\";\r\nimport { addIdeas } from \"../actions/ideaAction\";\r\nimport { endStep } from \"../actions/stepActions\";\r\nimport { connect } from \"react-redux\";\r\n\r\ni18n.use(locale);\r\nexport class TablesCriteres extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this._isMounted = false;\r\n        this.state = {\r\n            columns: [\r\n                {\r\n                    type: \"selection\",\r\n                },\r\n                {\r\n                    type: \"expand\",\r\n                    expandPannel: function (data) {\r\n                        return (\r\n                            <div>\r\n                                <ol>\r\n                                    <ul>Id du critère: {data.id_criteres}</ul>\r\n                                    <ul>Critère: {data.enonce_critere}</ul>\r\n                                </ol>\r\n                            </div>\r\n                        );\r\n                    },\r\n                },\r\n\r\n                {\r\n                    label: \" Id \",\r\n                    prop: \"id_criteres\",\r\n                    width: 60,\r\n                },\r\n                {\r\n                    label: \" Critère \",\r\n                    prop: \"enonce_critere\",\r\n                    width: 200,\r\n                },\r\n                {\r\n                    label: \"Operations\",\r\n                    width: \"200\",\r\n                    render: function (data) {\r\n                        return (\r\n                            <span>\r\n                                <Popover\r\n                                    placement='right'\r\n                                    title='Modifier un critère'\r\n                                    width='400'\r\n                                    trigger='click'\r\n                                    content={\r\n                                        <Modifier_critere critere={data} />\r\n                                    }\r\n                                >\r\n                                    <Button\r\n                                        plain={true}\r\n                                        type='info'\r\n                                        size='small'\r\n                                        style={{ marginRight: \"10px\" }}\r\n                                    >\r\n                                        Modifier\r\n                                    </Button>\r\n                                </Popover>\r\n                                <Popover\r\n                                    placement='right'\r\n                                    title='Supprimer un critère'\r\n                                    width='400'\r\n                                    trigger='click'\r\n                                    content={\r\n                                        <Supprimer_critere critere={data} />\r\n                                    }\r\n                                >\r\n                                    <Button type='danger' size='small'>\r\n                                        Supprimer\r\n                                    </Button>\r\n                                </Popover>\r\n                            </span>\r\n                        );\r\n                    },\r\n                },\r\n            ],\r\n            data: [],\r\n            rowClicked: [],\r\n            idRow: \"\",\r\n        };\r\n        this.getdata = props.getdata;\r\n    }\r\n    componentDidMount() {\r\n        window.onload = function () {\r\n            if (!window.location.hash) {\r\n                window.location = window.location + \"#loaded\";\r\n                window.location.reload();\r\n            }\r\n        };\r\n\r\n        window.onload();\r\n        axios.get(\"http://localhost/innov_ecl/GetCritere.php\").then((res) => {\r\n            this.setState({ data: res.data });\r\n            const fd = new FormData();\r\n            fd.append(\"id\", this.props.seance.id_seance);\r\n            axios\r\n                .post(\"http://localhost/innov_ecl/GetIdea.php\", fd)\r\n                .then((res) => {\r\n                    this.props.addIdeas(res.data);\r\n                    if (this.props.notes[0].length !== 0) {\r\n                        this.props.endStep();\r\n                    }\r\n                });\r\n        });\r\n    }\r\n\r\n    getdata() {\r\n        axios.get(\"http://localhost/innov_ecl/GetCritere.php\").then((res) => {\r\n            this.setState({ data: res.data });\r\n        });\r\n    }\r\n    onRowClick(row) {\r\n        this.setState({ rowClicked: row }, function () {\r\n            console.log(this.state.rowClicked);\r\n        });\r\n    }\r\n    refreshPage() {\r\n        window.location.reload(false);\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\" \"}\r\n                <br></br>\r\n                <h2>{`Choisissez les critères de notation de cette phase (Phase ${\r\n                    Math.abs(this.props.step - 3) + 1\r\n                })`}</h2>\r\n                <div className='flex-center'>\r\n                    {/* <Button   plain={true} type=\"success\" >\r\n                <Link style={{ textDecoration: 'none' }} to=\"/Ajout_critere\">Ajouter un critère</Link>\r\n                </Button> */}\r\n                    <br></br>\r\n                    <div className='ContainerTable'>\r\n                        <Table\r\n                            style={{ width: \"100%\" }}\r\n                            columns={this.state.columns}\r\n                            data={this.state.data}\r\n                            border={true}\r\n                            emptyText='Pas de critères'\r\n                            onSelectChange={(selection) => {\r\n                                this.props.addCriteria({\r\n                                    step: Math.abs(this.props.step - 3),\r\n                                    criteria: selection,\r\n                                });\r\n                            }}\r\n                            onSelectAll={(selection) => {\r\n                                this.props.addCriteria({\r\n                                    step: Math.abs(this.props.step - 3),\r\n                                    criteria: selection,\r\n                                });\r\n                            }}\r\n                        />\r\n                        <br></br>\r\n                        <br></br>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <Popover\r\n                        placement='bottom'\r\n                        title='Ajouter un critère'\r\n                        width='400'\r\n                        trigger='click'\r\n                        content={<Ajout_critere />}\r\n                    >\r\n                        <Button\r\n                            className='createBtn'\r\n                            plain={true}\r\n                            type='danger'\r\n                            style={{ marginTop: \"40px\" }}\r\n                        >\r\n                            Ajouter un critère\r\n                        </Button>\r\n                    </Popover>\r\n                </div>\r\n                <div className='footer'>\r\n                    <Button.Group>\r\n                        <Button type='danger' plain={true}>\r\n                            <i className='el-icon-arrow-left el-icon-left'></i>\r\n                            <a\r\n                                style={{ textDecoration: \"none\" }}\r\n                                href='/TableIdees'\r\n                            >\r\n                                Etape précédente\r\n                            </a>\r\n                        </Button>\r\n                        <Button type='danger' plain={true}>\r\n                            <a\r\n                                style={{ textDecoration: \"none\" }}\r\n                                href='/Notation'\r\n                                onClick={(e) => {\r\n                                    if (\r\n                                        this.props.selectedCriteria.length > 3\r\n                                    ) {\r\n                                        e.preventDefault();\r\n                                        alert(\r\n                                            \"Le maximum nombre de critères est 3.\"\r\n                                        );\r\n                                    } else if (\r\n                                        this.props.selectedCriteria.length === 0\r\n                                    ) {\r\n                                        e.preventDefault();\r\n                                        alert(\"Choisir au moins un critère.\");\r\n                                    }\r\n                                }}\r\n                            >\r\n                                Etape Suivante\r\n                            </a>\r\n                            <i className='el-icon-arrow-right el-icon-right'></i>\r\n                        </Button>\r\n                    </Button.Group>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    selectedCriteria:\r\n        state.criteria.selectedCriteria[Math.abs(state.steps - 3)],\r\n    seance: state.seance.seance,\r\n    step: state.steps,\r\n    notes: state.notes,\r\n    ideas: state.ideas,\r\n});\r\nexport default connect(mapStateToProps, {\r\n    addCriteria,\r\n    addIdeas,\r\n    endStep,\r\n})(TablesCriteres);\r\n"]},"metadata":{},"sourceType":"module"}